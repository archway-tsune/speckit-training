# クイックスタート: 注文機能

**作成日**: 2026-02-09
**ブランチ**: `003-order-management`

## 統合シナリオ

### シナリオ 1: 購入者のチェックアウトフロー

1. 購入者として `buyer@example.com` / `demo` でログイン
2. 商品一覧（`/catalog`）から商品を選び、カートに追加
3. カートページ（`/cart`）で「注文手続きへ」ボタンをクリック
4. チェックアウト画面（`/checkout`）で注文内容を確認
5. 「注文を確定」ボタンをクリック
6. 注文完了画面（`/order-complete`）で注文 ID とお礼メッセージを確認
7. カートページに戻り、カートが空になっていることを確認

### シナリオ 2: 購入者の注文履歴閲覧

1. 購入者としてログイン後、注文履歴ページ（`/orders`）を開く
2. 注文一覧（ID 先頭 8 桁・注文日・商品数・合計金額・ステータス）を確認
3. 特定の注文をクリックして詳細画面（`/orders/:id`）を開く
4. 注文 ID・注文日時・ステータス・商品一覧・合計金額を確認

### シナリオ 3: 管理者の注文管理

1. 管理者として `admin@example.com` / `demo` でログイン
2. 注文管理ページ（`/admin/orders`）で全注文を確認
3. ステータスのドロップダウンで「保留中」に絞り込み
4. 特定の注文をクリックして詳細画面（`/admin/orders/:id`）を開く
5. ステータスを「確認済み」に更新
6. 一覧に戻り、ステータスが反映されていることを確認

### シナリオ 4: 不正アクセスの拒否

1. 購入者 A としてログインし、注文を作成
2. 購入者 B としてログインし、購入者 A の注文詳細 URL にアクセス → 拒否される
3. 購入者として管理者の注文管理ページ（`/admin/orders`）にアクセス → 拒否される

## テスト用アカウント

| ロール | メール | パスワード |
|--------|--------|-----------|
| 購入者 | buyer@example.com | demo |
| 管理者 | admin@example.com | demo |

## テスト用商品

| 商品 ID | 商品名 | 価格 | 在庫 |
|---------|--------|------|------|
| 550e8400-e29b-41d4-a716-446655440000 | E2E テスト商品 | 3,000 | 10 |

## 検証ポイント

- チェックアウト後にカートがクリアされること
- 注文完了画面に注文 ID が表示されること
- 購入者は自分の注文のみ閲覧可能であること
- 管理者は全注文を閲覧・ステータス更新可能であること
- 無効なステータス遷移（配送完了→確認済み等）が拒否されること
- ページネーション（20 件/ページ）が正しく動作すること
